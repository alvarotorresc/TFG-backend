# Migration `20200510182303-update-roles`

This migration has been generated by alvarotorresc at 5/10/2020, 6:23:03 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TYPE "Rol_new" AS ENUM ('admin', 'researcher');
ALTER TABLE "public"."Researcher" ALTER COLUMN "rol" DROP DEFAULT,
                        ALTER COLUMN "rol" TYPE "Rol_new" USING ("rol"::text::"Rol_new"),
                        ALTER COLUMN "rol" SET DEFAULT 'admin';
ALTER TYPE "Rol" RENAME TO "Rol_old";
ALTER TYPE "Rol_new" RENAME TO "Rol";
DROP TYPE "Rol_old"
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200509185849-update-schema..20200510182303-update-roles
--- datamodel.dml
+++ datamodel.dml
@@ -3,19 +3,19 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 model DisabledToken {
   token     String   @id
   expiresAt DateTime
 }
 enum Rol {
-  Admin
-  Researcher
+  admin
+  researcher
 }
 enum Types {
   APPARITION
```


